<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduConnectGPT - Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        :root {
            --primary-color: #0d1472;
            --secondary-color: #f0f4ff;
            --accent-color: #3c4fe0;
            --text-color: #333;
            --light-text: #888;
            --white: #fff;
            --purple-gradient: linear-gradient(135deg, #1a0049 0%, #3c4fe0 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--white);
            color: var(--text-color);
            position: relative; /* For floating buttons positioning */
        }
        
        header {
            background-color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo img {
            height: 40px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin: 0 1rem;
        }
        
        nav ul li a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            padding: 0.5rem 0;
        }
        
        nav ul li a.active {
            color: var(--accent-color);
            font-weight: 600;
        }
        
        .nav-dropdown::after {
            content: "▼";
            font-size: 0.7em;
            margin-left: 5px;
            color: var(--light-text);
        }
        
        .right-actions {
            display: flex;
            align-items: center;
        }
        
        .right-actions > * {
            margin-left: 1rem;
        }
        
        .search-icon, .credit-icon, .notification-icon, .account-icon {
            font-size: 1.2rem;
            color: var(--text-color);
            cursor: pointer;
        }

        .credit-icon {
            background-color: #f5f5f5;
            padding: 0.3rem 0.7rem;
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        /* Account Dropdown Styles */
        .account-container {
            position: relative;
            cursor: pointer;
        }

        .account-icon {
            position: relative;
            z-index: 1001; /* Make sure this is above the dropdown */
        }

        .account-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: var(--white);
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-radius: 8px;
            padding: 0.5rem 0;
            margin-top: 0.5rem;
            z-index: 1000;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        /* Add this to create an invisible bridge between icon and dropdown */
        .account-dropdown::before {
            content: '';
            position: absolute;
            top: -10px; /* Adjust based on your margin-top value */
            left: 0;
            width: 100%;
            height: 10px;
            background-color: transparent;
        }

        @keyframes fadeIn {
            from {opacity: 0; transform: translateY(-10px);}
            to {opacity: 1; transform: translateY(0);}
        }

        .account-container:hover .account-dropdown {
            display: block;
        }

        .dropdown-item {
            padding: 0.8rem 1.5rem;
            display: block;
            color: var(--text-color);
            text-decoration: none;
            transition: background-color 0.2s ease;
            font-size: 0.95rem;
        }

        .dropdown-item:hover {
            background-color: var(--secondary-color);
            color: var(--accent-color);
        }

        .dropdown-divider {
            height: 1px;
            background-color: #eee;
            margin: 0.3rem 0;
        }
        
        /* Search Bar Styles */
        .animated-underline {
        position: relative;
        text-decoration: none;
        }

        .animated-underline::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 0;
        background-color: #1e40af; /* Blue color for the underline */
        transition: width 0.3s ease-in-out;
        }

        .animated-underline:hover::after {
        width: 100%;
        }
        .search-container {
            position: relative;
            margin-top: 1rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .search-bar {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 3rem;
            border: 1px solid #ddd;
            border-radius: 50px;
            font-size: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        .search-bar:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 2px 10px rgba(60, 79, 224, 0.15);
        }
        
        .search-icon-input {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--light-text);
            font-size: 1.2rem;
        }
        
        .search-btn {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--accent-color);
            color: var(--white);
            border: none;
            padding: 0.5rem 1.2rem;
            border-radius: 50px;
            font-weight: 500;
            cursor: pointer;
        }
        
        .hero-section {
            background: var(--purple-gradient);
            color: var(--white);
            padding: 4rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .hero-content h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        
        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            line-height: 1.6;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        

        
        .learn-more-btn {
            background-color: #ffdd00;
            color: var(--text-color);
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
        }
        
        .learn-more-btn::after {
            content: "→";
            margin-left: 0.5rem;
        }
        
        .features-section {
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 3rem;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }
        
        .feature-card {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .feature-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        .feature-description {
            color: var(--light-text);
            line-height: 1.6;
        }
        
        .message-list-section {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .message-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }
        
        .message-card {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            display: flex;      
            flex-direction: column;   
            min-height: 200px;        
            justify-content: space-between; 
            position: relative;
        }
        
        .message-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 1rem;
            background-color: #ddd;
        }
        
        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .user-info h3 {
            margin: 0;
            font-size: 1.1rem;
        }
        
        .message-time {
            color: var(--light-text);
            font-size: 0.9rem;
        }
        
        .message-content {
            line-height: 1.6;
            margin-bottom: 1rem;      
            flex-grow: 1;            
            min-height: 50px;         
        }
        
        .message-actions .spacer {
            flex-grow: 1; 
        }

        .message-actions {
            display: flex;
            gap: 0.5rem;
            flex-shrink: 0;
            flex-wrap: nowrap; 
            align-items: center; 
        }
        
        .message-btn {
            background-color: var(--accent-color);
            color: var(--white);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
        }
        
        footer {
            background-color: var(--primary-color);
            color: var(--white);
            padding: 3rem 2rem;
            margin-top: 4rem;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-left {
            max-width: 300px;
        }
        
        .footer-logo {
            margin-bottom: 1rem;
            display: block;
        }
        
        .footer-logo img {
            height: 60px;
        }
        
        .mission-statement {
            margin-bottom: 1rem;
            font-weight: 500;
        }
        
        .team-credit {
            color: rgba(255,255,255,0.7);
        }
        
        .footer-links {
            text-align: center;
        }
        
        .footer-links ul {
            list-style: none;
        }
        
        .footer-links li {
            margin: 0.5rem 0;
        }
        
        .footer-links a {
            color: var(--white);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: rgba(255,255,255,0.7);
        }
        
        .payment-methods {
            text-align: right;
        }
        
        .payment-icons {
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-end;
            gap: 0.5rem;
            max-width: 300px;
        }
        
        .payment-icon {
            width: 40px;
            height: 25px;
            background-color: var(--white);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Floating Action Buttons */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 999;
        }
        
        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.25);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .floating-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        
        .post-btn {
            background-color: var(--accent-color);
            color: var(--white);
            font-size: 24px;
        }
        
        .chat-btn {
            background-color: #25D366;
            color: var(--white);
        }
        
        .chat-btn img {
            width: 30px;
            height: 30px;
            object-fit: contain;
        }
        

        .floating-buttons {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--accent-color, #4a6bff);
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }

        .floating-btn:hover {
            transform: scale(1.1);
        }

        .floating-btn img {
            width: 30px;
            height: 30px;
        }

        /* Chat interface styles */
        .chat-container {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            height: 450px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 1001;
            display: none;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {transform: translateY(20px); opacity: 0;}
            to {transform: translateY(0); opacity: 1;}
        }

        .chat-header {
            padding: 15px;
            background-color: var(--accent-color, #4a6bff);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            margin: 0;
            font-size: 1.1rem;
        }

        .close-chat {
            font-size: 1.5rem;
            cursor: pointer;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background-color: #f5f5f5;
        }

        .message {
            display: flex;
            margin-bottom: 15px;
            align-items: flex-start;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-size: 18px;
        }

        .bot-message .message-avatar {
            background-color: var(--accent-color, #4a6bff);
            color: white;
        }

        .user-message {
            flex-direction: row-reverse;
        }

        .user-message .message-avatar {
            margin-right: 0;
            margin-left: 10px;
            background-color: #25D366;
            color: white;
        }

        .message-content {
            background-color: white;
            padding: 10px 15px;
            border-radius: 15px;
            max-width: 92%;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .user-message .message-content {
            background-color: var(--accent-color, #4a6bff);
            color: white;
        }

        .message-content p {
            margin: 0;
        }

        .chat-input {
            display: flex;
            padding: 10px;
            border-top: 1px solid #ddd;
        }

        .chat-input input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }

        .chat-input button {
            background-color: var(--accent-color, #4a6bff);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            margin-left: 10px;
            cursor: pointer;
        }


        /* Modal styles for post function */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: var(--white);
            padding: 2rem;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            position: relative;
            transform: scale(0.9);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .modal-content.active {
            transform: scale(1);
            opacity: 1;
        }

        .post-form button {
            background-color: var(--accent-color);
            color: var(--white);
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .post-form button:hover {
            background-color: #2a3bb0;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .post-form button.posting {
            background-color: #6c757d;
            pointer-events: none;
        }
        
        @keyframes modalFade {
            from {opacity: 0; transform: translateY(-20px);}
            to {opacity: 1; transform: translateY(0);}
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--light-text);
        }
        
        .modal-title {
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            color: var(--accent-color);
        }
        
        .post-form textarea {
            width: 100%;
            min-height: 150px;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-size: 1rem;
            resize: vertical;
        }
        
        .post-form button {
            background-color: var(--accent-color);
            color: var(--white);
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
        }

        @media (max-width: 1024px) {
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .message-list {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .hero-section {
                padding-bottom: 300px;
            }
            
            .hero-content {
                text-align: center;
                margin-bottom: 2rem;
            }
            
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 2rem;
            }
            
            .payment-methods, .footer-links, .footer-left {
                text-align: center;
                max-width: none;
            }
            
            .payment-icons {
                justify-content: center;
                margin: 0 auto;
            }
            
            .search-container {
                margin-top: 0.5rem;
            }
            
            .search-btn {
                padding: 0.5rem 0.8rem;
                font-size: 0.9rem;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 50px;
                height: 50px;
            }
            
            /* Ensure dropdown is properly positioned on mobile */
            .account-dropdown {
                right: -10px;
            }
        }

        /* Thêm vào phần style */
        @keyframes newPostAppear {
            from { 
                opacity: 0;
                transform: translateY(-20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-card.new-post {
            animation: newPostAppear 0.8s ease forwards;
            border-left: 3px solid var(--accent-color);
        }

        .submit-btn-animation {
            position: relative;
            overflow: hidden;
        }

        .submit-btn-animation::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background-color: rgba(255,255,255,0.3);
            transition: width 0.3s ease;
        }

        .submit-btn-animation:active::after {
            width: 100%;
            transition: width 0.1s ease;
        }

        /* Animation for form post when open */
        .post-form.animate {
            animation: formExpand 0.5s ease forwards;
        }

        @keyframes formExpand {
            from { transform: scale(0.95); opacity: 0.8; }
            to { transform: scale(1); opacity: 1; }
        }

        /* Animation for textarea  */
        .post-form textarea:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(60, 79, 224, 0.2);
            transition: all 0.3s ease;
        }

        /* Animation when successful */
        @keyframes successPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .post-success {
            color: #28a745;
            text-align: center;
            margin-top: 10px;
            font-weight: 500;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .post-success.show {
            opacity: 1;
            animation: successPulse 0.5s ease;
        }

        .pagination-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem 0;
            gap: 0.5rem;
        }

        .page-item {
            background-color: #f0f4ff;
            border: 1px solid transparent; 
            border-radius: 6px;
            color: var(--text-color);
            padding: 0.5rem 1rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
            min-width: 40px; 
            text-align: center;
        }

        .page-item:hover {
            background-color: #e2e8f5;
        }

        .page-item.active {
            background-color: var(--accent-color); 
            color: var(--white);
            border-color: var(--accent-color);
            cursor: default;
        }

        .page-item:disabled { 
            background-color: #f8f9fa;
            color: #adb5bd;
            cursor: not-allowed;
        }

        .like-btn {
            background-color: #e2e8f0; 
            color: #4a5568;            
            transition: background-color 0.2s ease, color 0.2s ease;
            display: inline-flex;      
            align-items: center;
            gap: 0.3rem;               
        }

        .like-btn i {
            transition: transform 0.2s ease;
        }

        .like-btn.liked {
            background-color: var(--accent-color); 
            color: var(--white);                
        }
        .like-btn.liked i {
            transform: scale(1.1) rotate(-10deg); 
        }

        .comment-trigger-btn {
            background-color: #e2e8f0;
            color: #4a5568;
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
        }

        .comment-section {
            display: none;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #e2e8f0; 
        }

        .comment-section.active {
            display: block; 
        }

        .comments-display-area {
            margin-bottom: 0.8rem;
            max-height: 150px; 
            overflow-y: auto; 
        }

        .comment-item {
            background-color: #f7fafc;
            padding: 0.5rem 0.8rem;
            border-radius: 6px;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            border: 1px solid #e2e8f0;
        }
        .comment-item strong { 
            color: var(--primary-color);
            margin-right: 0.5rem;
        }


        .comment-input-area {
            display: flex;
            gap: 0.5rem;
            align-items: flex-start; 
        }

        .comment-input {
            flex-grow: 1; 
            min-height: 40px;
            padding: 0.5rem 0.8rem;
            border: 1px solid #cbd5e0;
            border-radius: 6px;
            font-size: 0.9rem;
            resize: vertical; 
            line-height: 1.4;
        }

        .comment-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(60, 79, 224, 0.2);
        }

        .post-comment-btn {
            flex-shrink: 0;
            padding: 0.5rem 1rem;
            height: 40px; 
        }

        .icon-btn {
            background: none;
            border: none;
            padding: 0.3rem 0.5rem; /* Điều chỉnh padding */
            cursor: pointer;
            color: var(--light-text);
            font-size: 1.1rem; /* Điều chỉnh kích thước icon */
            line-height: 1; /* Đảm bảo icon không làm thay đổi chiều cao dòng */
        }
        .icon-btn:hover {
            color: var(--accent-color);
        }

        /* Đẩy nút trigger sang phải trong header */
        .message-header .tutor-menu-trigger {
            margin-left: auto; /* Đẩy sang phải */
        }

        /* Style cho Dropdown Tutor List */
        .tutor-list-dropdown {
            /* ... position, top, right, background, shadow, z-index ... giữ nguyên */
            display: none;
            position: absolute;
            top: 40px;
            right: 1rem;
            background-color: var(--white);
            border-radius: 6px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            padding: 0; /* Bỏ padding trực tiếp */
            min-width: 250px;
            max-width: 320px; /* Có thể tăng max-width một chút */
            z-index: 10;
            border: 1px solid #eee;
            overflow: hidden;
        }

        .tutor-list-dropdown.active {
            display: block;
            animation: fadeIn 0.2s ease-out;
        }

        .tutor-list-dropdown ul {
            list-style: none;
            margin: 0;
            padding: 0; /* Bỏ padding ở ul */
            max-height: 300px; /* Tăng max-height nếu cần */
            overflow-y: auto;
        }

        .tutor-list-dropdown li {
            /* Bỏ padding trực tiếp ở li */
            border-bottom: 1px solid #f0f4ff;
        }
        .tutor-list-dropdown li:last-child {
            border-bottom: none;
        }
        .tutor-list-dropdown li:hover .tutor-item-container { /* Áp dụng hover cho container */
            background-color: var(--secondary-color);
        }

        /* Container cho mỗi item gia sư */
        .tutor-item-container {
            padding: 0.8rem 1rem;
            transition: background-color 0.2s ease;
            display: flex;
            align-items: flex-start;
            gap: 0.8rem; 
        }

        .tutor-avatar-dropdown {
            width: 40px; 
            height: 40px;
            border-radius: 50%; 
            overflow: hidden; 
            flex-shrink: 0; 
            background-color: #eee;
        }

        .tutor-avatar-dropdown img {
            width: 100%;
            height: 100%;
            object-fit: cover; 
            display: block; 
        }

        .tutor-details-actions-wrapper {
            display: flex;
            flex-direction: column; 
            flex-grow: 1; 
        }


        .tutor-info-dropdown .tutor-name {
            display: block;
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 0.2rem;
        }
        .tutor-info-dropdown .tutor-name:hover {
            text-decoration: underline;
        }

        .tutor-description {
            font-size: 0.85rem;
            color: var(--light-text);
            margin: 0 0 0.8rem 0; /* Thêm margin dưới description */
            line-height: 1.4;
        }

        /* Khu vực action cho từng gia sư */
        .tutor-item-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap; /* Cho phép wrap nếu không đủ chỗ */
        }

        /* Style cho nút trong từng item gia sư */
        .tutor-item-actions .message-btn {
            padding: 0.4rem 0.8rem;
            font-size: 0.9rem;
        }

    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="images\Educonnect_logo.png" alt="EduConnectGPT Logo">
        </div>
        <nav>
            <ul>
                <li><a href="#" class="active">Home</a></li>
                <li><a href="review.html" class="nav-item px-2 py-1 text-gray-700 hover:text-blue-900 animated-underline">Review</a></li>
                <li><a href="ranking.html" class="nav-item px-2 py-1 text-gray-700 hover:text-blue-900 animated-underline">Ranking</a></li>
                <li><a href="support.html" class="nav-item px-2 py-1 text-gray-700 hover:text-blue-900 animated-underline">Support</a></li>
                <li><a href="educonnectGPT.html" class="nav-item px-2 py-1 text-gray-700 hover:text-blue-900 animated-underline">EduconnectGPT</a></li>
                <li><a href="chat.html" class="nav-item px-2 py-1 text-gray-700 hover:text-blue-900 animated-underline">Chat</a></li>
            </ul>
        </nav>
        <div class="right-actions">
            <div class="credit-icon">0.0 $</div>
            <a href="notification.html" class="notification-icon" style="text-decoration: none;">🔔</a>
            <!-- Updated account icon with dropdown -->
            <div class="account-container">
                <div class="account-icon">👤</div>
                <div class="account-dropdown">
                    <a href="profile.html" class="dropdown-item">Profile</a>
                    <a href="setting.html" class="dropdown-item">Setting</a>
                    <a href="pricing.html" class="dropdown-item">Pricing</a>
                    <div class="dropdown-divider"></div>
                    <a href="login.html" class="dropdown-item">Sign out</a>
                </div>
            </div>
        </div>
    </header>
    
    <section class="hero-section">
        <div class="hero-content">
            <h1>We are EduConnect</h1>
            <h1>Connecting knowledge, stepping firmly into the future</h1>
            <p>Join our growing community of learners and educators to expand your horizons.</p>
            <button class="learn-more-btn">Learn More</button>
        </div>

    </section>
    
    <!-- Search Bar -->
    <div class="search-container">
        <span class="search-icon-input">🔍</span>
        <input type="text" class="search-bar" placeholder="Search for tutors, courses, or topics...">
        <button class="search-btn">Search</button>
    </div>
    
    <section class="features-section">
        <h2 class="section-title">How EduConnect Works</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">📚</div>
                <h3 class="feature-title">Connect with Tutors</h3>
                <p class="feature-description">Find experienced tutors in various subjects who can help you master any topic.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">💬</div>
                <h3 class="feature-title">AI-Powered Learning</h3>
                <p class="feature-description">Get instant help with our EduconnectGPT assistant for quick answers and guidance.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🌟</div>
                <h3 class="feature-title">Track Your Progress</h3>
                <p class="feature-description">Monitor your learning journey with detailed analytics and personalized insights.</p>
            </div>
        </div>
    </section>
    
    <section class="message-list-section">
        <div class="message-list">
            <div class="message-card">
                <div class="message-header">
                    <div class="user-avatar">
                        <img src="avatar1.png" alt="Nguyen Thu Trang">
                    </div>
                    <div class="user-info">
                        <h3>Nguyen Thu Trang</h3>
                        <p class="message-time">2 hours ago</p>
                    </div>
                </div>
                <div class="message-content">
                    <p>Cần tìm gia sư Toán lớp 10 khu vực Hà Nội. Mình cần tìm gia sư dạy Toán lớp 10, chủ yếu ôn Đại số, Hình học. Lương sẽ thỏa thuận tùy vào khả năng, ít theo kíp mỗi bài khó. Cần 1 anh/chị dạy dễ hiểu, hướng dẫn tận tình, giúp làm bài tập với ôn chuẩn bị cuối kì.</p>
                </div>
                <div class="message-actions">
                    <a href="chat.html?user=Nguyen%20Thu%20Trang&avatar=avatar1.png" class="message-btn" style="text-decoration: none;">Send message</a>
                    <button class="message-btn">Send Request</button> 
                </div>
            </div>
            
            <div class="message-card">
                <div class="message-header">
                    <div class="user-avatar">
                        <img src="avatar2.png" alt="Mai Anh">
                    </div>
                    <div class="user-info">
                        <h3>Mai Anh</h3>
                        <p class="message-time">1 hour ago</p>
                    </div>
                </div>
                <div class="message-content">
                    <p>Hello mọi người, mình là Mai Anh, học lớp 11 mà Toán hơi lẹt đẹt nên muốn tìm một anh/chị gia sư cuối dạy mình phần Hàm số, Đạo hàm, Hình học không gian. Trên lớp nghe giảng mà đầu cứ quay quay, làm bài tập toán tuần này 😓.</p>
                </div>
                <div class="message-actions">
                    <a href="chat.html?user=Mai%20Anh&avatar=avatar2.png" class="message-btn" style="text-decoration: none;">Send message</a>
                    <button class="message-btn">Send Request</button> 
                </div>
            </div>
            
            <div class="message-card">
                <div class="message-header">
                    <div class="user-avatar">
                        <img src="avatar3.png" alt="Nguyen Trong Minh">
                    </div>
                    <div class="user-info">
                        <h3>Nguyen Trong Minh</h3>
                        <p class="message-time">2 hours ago</p>
                    </div>
                </div>
                <div class="message-content">
                    <p>Hello mọi người, mình là Minh, học lớp 12 mà Toán đang hơi đuối, nhất là Hàm số, Tích phân, Hình không gian. Đi học trên lớp thì ngồi nghe mà đầu óc cứ như trên mây, về nhà làm đề toán sai 😓.</p>
                </div>
                <div class="message-actions">
                    <a href="chat.html?user=Nguyen%20Trong%20Minh&avatar=avatar3.png" class="message-btn" style="text-decoration: none;">Send message</a>
                    <button class="message-btn">Send Request</button> 
                </div>
            </div>
            
            <div class="message-card">
                <div class="message-header">
                    <div class="user-avatar">
                        <img src="avatar4.png" alt="Đang Quang">
                    </div>
                    <div class="user-info">
                        <h3>Đang Quang</h3>
                        <p class="message-time">1 hour ago</p>
                    </div>
                </div>
                <div class="message-content">
                    <p>Tìm gia sư Toán cứu với cuộc đời em 😓 Chào mọi người, em là Quang, học lớp 11 mà Toán cứ như một vòng luẩn quẩn → hoang mang → làm sai 😓.</p>
                </div>
                <div class="message-actions">
                    <a href="chat.html?user=Dang%20Quang&avatar=avatar4.png" class="message-btn" style="text-decoration: none;">Send message</a>
                    <button class="message-btn">Send Request</button> 
                </div>
            </div>
        </div>
    </section>

    <div class="pagination-container" id="paginationControls">
        <!-- Page numbers will be generated here by JavaScript -->
    </div>
    
    <!-- Floating Action Buttons -->
    <div class="floating-buttons">
        <div class="floating-btn chat-btn" id="chatBtn">
            <img src="chaticon.png" alt="Chat">
        </div>
        <div class="floating-btn post-btn" id="postBtn">
            <span>+</span>
        </div>
    </div>
    
    <div id="chatInterface" class="chat-container">
        <div class="chat-header">
          <h3>EduConnect Chat</h3>
          <span class="close-chat" id="closeChat">&times;</span>
        </div>
        <div class="chat-messages" id="chatMessages">
          <div class="message bot-message">
            <div class="message-avatar">🤖</div>
            <div class="message-content">
              <p>Hello! How can I help you with your learning needs today?</p>
            </div>
          </div>
        </div>
        <div class="chat-input">
          <input type="text" id="messageInput" placeholder="Type your message...">
          <button id="sendMessage">Send</button>
        </div>
      </div>


    <!-- Post Modal -->
    <div class="modal" id="postModal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <h2 class="modal-title">Create a New Post</h2>
            <form class="post-form" id="newPostForm">
                <textarea id="postContent" placeholder="What do you need help with? Describe your learning needs..."></textarea>
                <button type="button" id="submitPost" class="submit-btn-animation">Post</button>
                <p class="post-success" id="postSuccess">Post created successfully!</p>
            </form>
        </div>
    </div>
    
    <footer>
        <div class="footer-content">
            <div class="footer-left">
                <div class="footer-logo">
                    <img src="images\Educonnect_logo.png" alt="EduConnectGPT Logo">
                </div>
                <p class="mission-statement">EduConnect - Connecting knowledge, stepping firmly into the future."</p>
                <p class="team-credit">—EduConnect team</p>
            </div>
            
            <div class="footer-links">
                <ul>
                    <li><a href="#">All pages</a></li>
                    <li><a href="#">All Courses</a></li>
                    <li><a href="#">Contact</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Refund and Returns Policy</a></li>
                    <li><a href="#">About us</a></li>
                    <li><a href="#">faq</a></li>
                    <li><a href="#">Terms and condition</a></li>
                </ul>
            </div>
            
            <div class="payment-methods">
                <div class="payment-icons">
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                    <div class="payment-icon">💳</div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- DOM Elements ---
            const searchBar = document.querySelector('.search-bar');
            const searchBtn = document.querySelector('.search-btn');
            const postBtn = document.getElementById('postBtn');
            const postModal = document.getElementById('postModal');
            const modalContent = document.querySelector('.modal-content');
            const closeModalBtn = document.getElementById('closeModal');
            const chatBtn = document.getElementById('chatBtn');
            const chatInterface = document.getElementById('chatInterface');
            const closeChatBtn = document.getElementById('closeChat');
            const messageInputChat = document.getElementById('messageInput');
            const sendMessageChat = document.getElementById('sendMessage');
            const chatMessages = document.getElementById('chatMessages');
            const newPostForm = document.getElementById('newPostForm');
            const postContentInput = document.getElementById('postContent'); // Đổi tên biến rõ ràng hơn
            const submitPostBtn = document.getElementById('submitPost'); // Đổi tên biến rõ ràng hơn
            const messageList = document.querySelector('.message-list');
            const paginationControls = document.getElementById('paginationControls');
            const postSuccessMsg = document.getElementById('postSuccess'); // Đổi tên biến rõ ràng hơn

            // --- State Variables ---
            let allPostsData = []; // Dùng tên biến rõ ràng hơn
            let currentPage = 1;
            const postsPerPage = 4;

            // --- Default Data ---
            const defaultPosts = [
                 { id: 1, user: "Nguyen Thu Trang", avatar: "avatar1.png", time: "2 hours ago", content: "Cần tìm gia sư Toán lớp 10 khu vực Hà Nội. Mình cần tìm gia sư dạy Toán lớp 10, chủ yếu ôn Đại số, Hình học. Lương sẽ thỏa thuận tùy vào khả năng, ít theo kíp mỗi bài khó. Cần 1 anh/chị dạy dễ hiểu, hướng dẫn tận tình, giúp làm bài tập với ôn chuẩn bị cuối kì." },
                 { id: 2, user: "Mai Anh", avatar: "avatar2.png", time: "1 hour ago", content: "Hello mọi người, mình là Mai Anh, học lớp 11 mà Toán hơi lẹt đẹt nên muốn tìm một anh/chị gia sư cuối dạy mình phần Hàm số, Đạo hàm, Hình học không gian. Trên lớp nghe giảng mà đầu cứ quay quay, làm bài tập toán tuần này 😓." },
                 { id: 3, user: "Nguyen Trong Minh", avatar: "avatar3.png", time: "2 hours ago", content: "Hello mọi người, mình là Minh, học lớp 12 mà Toán đang hơi đuối, nhất là Hàm số, Tích phân, Hình không gian. Đi học trên lớp thì ngồi nghe mà đầu óc cứ như trên mây, về nhà làm đề toán sai 😓." },
                 { id: 4, user: "Đặng Quang", avatar: "avatar4.png", time: "1 hour ago", content: "Tìm gia sư Toán cứu với cuộc đời em 😓 Chào mọi người, em là Quang, học lớp 11 mà Toán cứ như một vòng luẩn quẩn → hoang mang → làm sai 😓." },
                 { id: 5, user: "Le Binh", avatar: "avatar-placeholder.png", time: "3 hours ago", content: "Cần tìm gia sư Toán lớp 10 gấp ạ 😭 Em là An, mới lên lớp 10 mà Hình học với Đại số em mất gốc từ cấp 2 rồi, giờ nghe giảng không hiểu gì cả, bài tập thì nhìn như bức vách. Cần anh chị nào kiên nhẫn dạy lại giúp em với, em cảm ơn nhiều ạ." },
                 { id: 6, user: "Ngoc Hieu", avatar: "avatar-placeholder.png", time: "4 hours ago", content: "Tìm gia sư Toán 12 ôn thi ĐH gấp!!! 😥 Mình là Bình, sắp thi rồi mà Toán còn yếu quá, nhất là mấy dạng vận dụng cao giải mãi không ra, thấy đề là hoang mang. Có anh chị nào kinh nghiệm ôn thi, hệ thống kiến thức tốt giúp mình với. Lo quá!" },
                 { id: 7, user: "Trinh Chau", avatar: "avatar-placeholder.png", time: "5 hours ago", content: "Ai cứu em môn Hình không gian với ạ 🙏 Em là Chi lớp 11. Cứ học đến hình không gian là đầu óc em quay cuồng, trừu tượng quá không tưởng tượng nổi hình luôn, vẽ sai hoài 😵. Cần một gia sư dạy dễ hiểu phần này gấp ạ, SOS!" },
                 { id: 8, user: "Duc Manh", avatar: "avatar-placeholder.png", time: "6 hours ago", content: "Có ai nhận dạy kèm Toán cho học sinh yếu không ạ? 🥺 Em là Dũng, lớp 10. Em sợ môn Toán lắm, làm bài toàn sai, điểm lúc nào cũng thấp lè tè. Muốn tìm gia sư tận tình, kiên nhẫn, nói dễ hiểu giúp em lấy lại căn bản với ạ, chứ tình hình này chắc em tiêu." },
            ];

            // --- Functions ---

            function renderPostCard(postData) {
                const card = document.createElement('div');
                card.className = 'message-card';
                card.dataset.postId = postData.id || Date.now(); // Use provided ID or generate one

                const userName = postData.user || "User";
                const userAvatar = postData.avatar || "avatar-placeholder.png";
                const postTime = postData.time || "Recently";
                const postText = postData.content || "No content";

                const suggestedTutors = [
                    { name: "Gia sư Nguyễn Văn A", description: "Sinh viên năm 3 ĐH Bách Khoa, chuyên Toán Lý Hóa, kinh nghiệm 2 năm.", avatar: "images/Lê Nguyễn Thanh Bình.jpg" }, 
                    { name: "Gia sư Trần Thị B", description: "Giáo viên về hưu, >10 năm kinh nghiệm dạy Toán cấp 2, 3.", avatar: "images/ảnh tutor 2.jpg" },
                    { name: "Gia sư Lê Văn C", description: "Thủ khoa đầu vào Sư Phạm Toán, nhiệt tình, phương pháp dễ hiểu.", avatar: "images/ảnh tutor 3.jpg" },
                    { name: "Gia sư Phạm Thị D", description: "Du học sinh Mỹ, điểm SAT Toán 800/800.", avatar: "images/ảnh tutor 4.jpg" },
                ];

                card.innerHTML = `
                    <div class="message-header">
                        <div class="user-avatar"><img src="${userAvatar}" alt="${userName}"></div>
                        <div class="user-info"><h3>${userName}</h3><p class="message-time">${postTime}</p></div>
                        <button class="message-btn icon-btn tutor-menu-trigger">
                            <i class="fas fa-bars"></i>
                        </button>
                    </div>

                    <div class="message-content">
                        <p>${postText.replace(/\n/g, '<br>')}</p>
                    </div>

                    <div class="message-actions">
                        <button class="message-btn like-btn"><i class="far fa-thumbs-up"></i> Like</button>
                        <button class="message-btn comment-trigger-btn"><i class="far fa-comment"></i> Comment</button>
                        <div class="spacer"></div>
                        <a href="chat.html?user=${encodeURIComponent(userName)}&avatar=${userAvatar}" class="message-btn" style="text-decoration: none;">Send message</a>
                        <button class="message-btn">Send Request</button>
                    </div>

                    <div class="comment-section">
                    </div>

                    <div class="tutor-list-dropdown">
                        <ul>
                            ${suggestedTutors.map(tutor => `
                                <li>
                                    <div class="tutor-item-container">
                                        <div class="tutor-avatar-dropdown">
                                            <img src="${tutor.avatar || 'avatar-placeholder.png'}" alt="${tutor.name}">
                                        </div>
                                        <div class="tutor-details-actions-wrapper">
                                            <div class="tutor-info-dropdown">
                                                <a href="#" class="tutor-name">${tutor.name}</a>
                                                <p class="tutor-description">${tutor.description}</p>
                                            </div>
                                            <div class="tutor-item-actions">
                                                <a href="chat.html?user=${encodeURIComponent(tutor.name)}&avatar=${tutor.avatar || 'avatar-placeholder.png'}" class="message-btn tutor-msg-btn" style="text-decoration: none;">Send message</a>
                                                <button class="message-btn tutor-req-btn">Send Request</button>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;
                messageList.appendChild(card);
            }

            function displayPage(page) {
                currentPage = page;
                messageList.innerHTML = '';
                const startIndex = (page - 1) * postsPerPage;
                const endIndex = startIndex + postsPerPage;
                const postsToShow = allPostsData.slice(startIndex, endIndex);
                postsToShow.forEach(renderPostCard);
                renderPaginationControls();
            }

            function renderPaginationControls() {
                if (!paginationControls) return;
                paginationControls.innerHTML = '';
                const totalPages = Math.ceil(allPostsData.length / postsPerPage);
                if (totalPages <= 1) return;
                for (let i = 1; i <= totalPages; i++) {
                    const pageButton = document.createElement('button');
                    pageButton.className = `page-item ${i === currentPage ? 'active' : ''}`;
                    pageButton.textContent = i;
                    pageButton.onclick = () => { // Gán trực tiếp để đơn giản
                        displayPage(i);
                        messageList.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    };
                    paginationControls.appendChild(pageButton);
                }
            }

            function initializePosts() {
                // Chỉ sử dụng defaultPosts, không load/save localStorage
                allPostsData = [...defaultPosts].reverse(); // Hiển thị mới nhất trước
            }

            function handlePostSubmit() {
                const content = postContentInput.value.trim();
                if (!content) return; // Thoát nếu không có nội dung

                submitPostBtn.classList.add('posting');
                submitPostBtn.textContent = 'Posting...';
                submitPostBtn.disabled = true;

                // Simulate delay
                setTimeout(() => {
                    const newPostData = {
                        user: "Người dùng mới (Tạm)",
                        avatar: "avatar1.png", // Hoặc avatar user hiện tại
                        time: "Just now",
                        content: content,
                        id: Date.now()
                    };

                    // Thêm vào đầu mảng (bộ nhớ)
                    allPostsData.unshift(newPostData);

                    // Hiển thị lại trang 1
                    displayPage(1);

                    // Hiệu ứng thành công và đóng modal
                    postSuccessMsg.classList.add('show');
                    const firstCard = messageList.querySelector('.message-card:first-child');
                    if (firstCard) {
                        firstCard.classList.add('new-post');
                        setTimeout(() => firstCard.classList.remove('new-post'), 1500);
                        window.scrollTo({ top: firstCard.offsetTop - 80, behavior: 'smooth' });
                    }

                    setTimeout(() => {
                        modalContent.classList.remove('active');
                        setTimeout(() => {
                            postModal.style.display = 'none';
                            postContentInput.value = '';
                            submitPostBtn.classList.remove('posting');
                            submitPostBtn.textContent = 'Post';
                            postSuccessMsg.classList.remove('show');
                            submitPostBtn.disabled = false;
                        }, 200);
                    }, 1000);

                }, 800);
            }

            function handleLikeClick(likeButton) {
                likeButton.classList.toggle('liked');
                const icon = likeButton.querySelector('i');
                const isLiked = likeButton.classList.contains('liked');
                icon.className = isLiked ? 'fas fa-thumbs-up' : 'far fa-thumbs-up'; // Đổi icon
                // Thêm logic gọi API nếu cần
            }

            function handleCommentToggle(commentTrigger) {
                const card = commentTrigger.closest('.message-card');
                const commentSection = card?.querySelector('.comment-section');
                if (commentSection) {
                    commentSection.classList.toggle('active');
                    if (commentSection.classList.contains('active')) {
                        commentSection.querySelector('.comment-input').focus();
                    }
                }
            }

            function handlePostComment(postButton) {
                 const commentSection = postButton.closest('.comment-section');
                 const commentInput = commentSection?.querySelector('.comment-input');
                 const commentsDisplay = commentSection?.querySelector('.comments-display-area');
                 const commentText = commentInput?.value.trim();

                 if (commentText && commentsDisplay) {
                     const newComment = document.createElement('div');
                     newComment.classList.add('comment-item');
                     // Nên lấy tên user đang đăng nhập thay vì "You"
                     newComment.innerHTML = `<strong>You:</strong> ${commentText.replace(/\n/g, '<br>')}`;
                     commentsDisplay.appendChild(newComment);
                     commentsDisplay.scrollTop = commentsDisplay.scrollHeight; // Cuộn xuống
                     commentInput.value = '';
                     // Thêm logic gọi API lưu comment
                 }
            }

            function handleTutorMenuToggle(menuTrigger, event) {
                const card = menuTrigger.closest('.message-card');
                const dropdown = card?.querySelector('.tutor-list-dropdown');
                if (dropdown) {
                    const isActive = dropdown.classList.contains('active');
                    // Đóng tất cả dropdown khác
                    document.querySelectorAll('.tutor-list-dropdown.active').forEach(dd => {
                        if (dd !== dropdown) dd.classList.remove('active');
                    });
                    // Toggle cái hiện tại
                    dropdown.classList.toggle('active');
                    if(event) event.stopPropagation(); // Ngăn đóng ngay lập tức
                }
            }

            // --- Event Listeners ---

            // Sử dụng Event Delegation cho message list
            messageList.addEventListener('click', function(event) {
                const target = event.target;
                const likeBtn = target.closest('.like-btn');
                const commentTriggerBtn = target.closest('.comment-trigger-btn');
                const postCommentBtn = target.closest('.post-comment-btn');
                const tutorMenuBtn = target.closest('.tutor-menu-trigger');

                if (likeBtn) handleLikeClick(likeBtn);
                else if (commentTriggerBtn) handleCommentToggle(commentTriggerBtn);
                else if (postCommentBtn) handlePostComment(postCommentBtn);
                else if (tutorMenuBtn) handleTutorMenuToggle(tutorMenuBtn, event);
            });

            // Đóng dropdown khi click ra ngoài
            document.addEventListener('click', function(event) {
                if (!event.target.closest('.tutor-menu-trigger') && !event.target.closest('.tutor-list-dropdown')) {
                    document.querySelectorAll('.tutor-list-dropdown.active').forEach(dd => dd.classList.remove('active'));
                }
            });

            // Search
            searchBtn.addEventListener('click', () => {
                const searchTerm = searchBar.value.trim();
                if (searchTerm) alert('Searching for: ' + searchTerm);
            });
            searchBar.addEventListener('keypress', (e) => { if (e.key === 'Enter') searchBtn.click(); });

            // Post Modal
            postBtn.addEventListener('click', () => {
                postModal.style.display = 'flex';
                setTimeout(() => modalContent.classList.add('active'), 50);
            });
            closeModalBtn.addEventListener('click', () => {
                modalContent.classList.remove('active');
                setTimeout(() => { postModal.style.display = 'none'; postSuccessMsg.classList.remove('show'); }, 200);
            });
            window.addEventListener('click', (event) => { if (event.target === postModal) closeModalBtn.click(); });
            submitPostBtn.addEventListener('click', handlePostSubmit);

            // Floating Chat
             chatBtn.addEventListener('click', () => chatInterface.style.display = 'flex');
             closeChatBtn.addEventListener('click', () => chatInterface.style.display = 'none');
            // Hàm sendUserMessageChat cần được định nghĩa hoặc giữ lại nếu bạn dùng
            // sendMessageChat.addEventListener('click', sendUserMessageChat);
            // messageInputChat.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendUserMessageChat(); });


            // --- Initial Page Load ---
            initializePosts();
            displayPage(1);

        }); // End DOMContentLoaded
    </script>   
</body>
</html>