<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduConnect - Quiz Generation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f0f2f5;
            line-height: 1.6; /* Improved readability */
        }

        /* Header Styles */
        header {
            background-color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 2rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo img {
            height: 40px;
            display: block; /* Prevents small gap below image */
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin: 0 10px;
        }

        nav ul li a {
            text-decoration: none;
            padding: 8px 12px;
            color: #555;
            font-weight: 500;
            position: relative;
            transition: color 0.3s;
        }

        nav ul li a.active {
            color: #4361ee;
            font-weight: 600;
        }

        .animated-underline {
            position: relative;
            text-decoration: none;
        }

        .animated-underline::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: #4361ee; /* Updated underline color */
            transition: width 0.3s ease-in-out;
        }

        .animated-underline:hover::after {
            width: 100%;
        }
        nav ul li a:hover { /* General hover color for nav links */
             color: #4361ee;
        }

        .right-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .credit-icon, .notification-icon {
            font-size: 1rem;
            cursor: pointer;
            color: #555; /* Consistent color */
        }
         .notification-icon:hover {
             color: #4361ee;
         }

        .account-container {
            position: relative;
            cursor: pointer;
        }

        .account-icon {
            font-size: 1.2rem;
             color: #555;
        }
        .account-container:hover .account-icon {
            color: #4361ee;
        }

        .account-dropdown {
            position: absolute;
            top: calc(100% + 5px); /* Slightly offset */
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            width: 150px;
            display: none;
            padding: 8px 0;
            z-index: 10;
            opacity: 0; /* Start hidden for animation */
            transform: translateY(-10px); /* Start slightly up */
            transition: opacity 0.2s ease-out, transform 0.2s ease-out;
        }

        .account-container:hover .account-dropdown {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .dropdown-item {
            display: block;
            padding: 8px 15px;
            text-decoration: none;
            color: #333;
            font-size: 0.9rem;
            transition: background 0.2s, color 0.2s;
        }

        .dropdown-item:hover {
            background: #f0f2f5;
            color: #4361ee;
        }

        .dropdown-divider {
            height: 1px;
            background: #eee;
            margin: 5px 0;
        }

        /* Quiz Generation Interface Styles */
        .quiz-interface {
            max-width: 1200px;
            margin: 2rem auto;
            display: flex;
            gap: 25px; /* Slightly increased gap */
            padding: 0 1rem; /* Add padding for smaller screens */
        }

        .sidebar {
            width: 280px; /* Slightly wider */
            flex-shrink: 0; /* Prevent shrinking */
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            padding: 20px;
            align-self: flex-start; /* Align to top */
        }

        .ai-title {
            font-size: 1.4rem; /* Adjusted size */
            font-weight: 600;
            margin-bottom: 1.2rem;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid #eee; /* Add subtle divider */
            padding-bottom: 0.8rem;
        }

        .agent-list {
            list-style: none;
            margin-bottom: 1.5rem; /* Space below list */
        }

        .agent-item {
            display: flex;
            align-items: center;
            padding: 12px 10px; /* Adjusted padding */
            border-radius: 8px;
            margin-bottom: 8px; /* Reduced margin */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            color: #444; /* Default text color */
        }

        .agent-item:hover {
            background-color: #f0f2f5;
            color: #333;
        }

        .agent-item.selected {
            background-color: #e0e7ff;
            color: #4361ee;
            font-weight: 500; /* Highlight selected */
        }
        .agent-item a { /* Ensure links inside inherit color */
             text-decoration: none;
             color: inherit;
             display: flex; /* Make link fill the item */
             align-items: center;
             width: 100%;
        }

        .agent-icon {
            width: 32px; /* Slightly larger icon */
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 1.3rem;
            background-color: #eef2ff; /* Lighter background */
            color: #4361ee; /* Icon color */
        }
        .agent-item.selected .agent-icon {
             background-color: #c7d2fe; /* Darker bg when selected */
        }

        .agent-name {
            font-weight: 500;
            font-size: 0.95rem;
        }

        .section-title {
            font-size: 0.9rem; /* Smaller section titles */
            font-weight: 600;
            margin: 1.8rem 0 0.8rem; /* Adjusted margin */
            color: #666;
            text-transform: uppercase; /* Uppercase for distinction */
            letter-spacing: 0.5px;
        }

        .history-list .agent-item { /* Style history items slightly differently */
            padding: 10px;
            font-size: 0.9rem;
        }
         .history-list .agent-item:hover {
             background-color: #f8f9fa;
         }

        .quiz-container {
            flex: 1; /* Take remaining space */
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            padding: 30px; /* Increased padding */
        }

        .quiz-header {
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }

        .quiz-header h1 {
            font-size: 1.9rem; /* Larger title */
            color: #222;
            margin-bottom: 10px;
        }

        .quiz-header p {
            color: #555; /* Slightly darker text */
            font-size: 1rem;
            line-height: 1.6;
        }

        .form-group {
            margin-bottom: 25px; /* Increased spacing */
        }

        .form-group label {
            display: block;
            font-weight: 600; /* Bolder labels */
            margin-bottom: 10px;
            color: #333;
            font-size: 0.95rem;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ccc; /* Slightly darker border */
            border-radius: 8px;
            font-size: 1rem;
            color: #333;
            background-color: #fff; /* Ensure white background */
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            border-color: #4361ee;
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2); /* Focus ring */
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        /* Styling for File Input */
        .form-input[type="file"] {
            padding: 10px 15px;
            cursor: pointer;
        }
        .form-input[type="file"]::-webkit-file-upload-button {
            background-color: #e0e7ff;
            color: #4361ee;
            border: none;
            padding: 8px 15px; /* Adjusted padding */
            border-radius: 6px;
            cursor: pointer;
            margin-right: 15px; /* More space */
            font-weight: 500;
            transition: background-color 0.3s;
        }
        .form-input[type="file"]::-webkit-file-upload-button:hover {
            background-color: #c7d2fe;
        }
        .form-input[type="file"]::file-selector-button { /* Standard */
            background-color: #e0e7ff;
            color: #4361ee;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            margin-right: 15px;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        .form-input[type="file"]::file-selector-button:hover {
             background-color: #c7d2fe;
        }
        .file-info {
            font-size: 0.9rem;
            color: #555;
            margin-top: 8px; /* Space above filename */
            display: block;
        }
        .file-info.hidden {
            display: none;
        }


        .options-container {
            display: grid; /* Use grid for better alignment */
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Responsive columns */
            gap: 20px;
            margin-bottom: 25px;
        }

        .option-group { /* No longer needed with grid */
           /* Removed */
        }

        .checkbox-group-container { /* Container for checkbox sections */
             display: flex;
             gap: 30px; /* Space between checkbox types */
             flex-wrap: wrap; /* Wrap if needed */
             margin-bottom: 25px;
        }
        .checkbox-section { /* Group related checkboxes */
            margin-bottom: 10px;
        }
        .checkbox-section label:first-of-type { /* Style the heading label for checkbox sections */
            font-weight: 600;
            color: #333;
            font-size: 0.95rem;
            margin-bottom: 12px; /* Space below heading */
            display: block;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 12px; /* Space between checkboxes */
        }

        .checkbox-group input[type="checkbox"] {
            margin-right: 10px; /* Space between box and label */
            width: 18px; /* Custom size */
            height: 18px;
            cursor: pointer;
            accent-color: #4361ee; /* Color the checkmark */
        }
         .checkbox-group label {
             font-weight: 400; /* Regular weight for options */
             color: #444;
             font-size: 0.95rem;
             margin-bottom: 0; /* Override default label margin */
             cursor: pointer;
         }

        .generate-btn {
            background-color: #4361ee;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 14px 30px; /* Larger button */
            font-size: 1.05rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
            display: inline-flex; /* Align icon if added */
            align-items: center;
            gap: 8px;
        }

        .generate-btn:hover {
            background-color: #3651d8;
        }
        .generate-btn:active {
            transform: scale(0.98); /* Click effect */
        }

        .preview-container {
            margin-top: 40px; /* More space before preview */
            border-top: 1px solid #ddd;
            padding-top: 30px;
        }

        .preview-container h2 {
            font-size: 1.6rem; /* Larger preview title */
            color: #333;
            margin-bottom: 25px;
        }

        .quiz-preview {
            background-color: #f9fafc; /* Subtle background */
            border: 1px solid #e5e7eb; /* Light border */
            border-radius: 8px;
            padding: 25px; /* Padding inside preview */
            margin-bottom: 25px; /* Space below preview box */
        }
         /* Optional note styling */
        .generation-note {
            font-style: italic;
            color: #666;
            font-size: 0.9em;
            margin-bottom: 20px;
            padding: 10px;
            background-color: #f0f2f5;
            border-radius: 6px;
            border-left: 3px solid #4361ee;
        }

        .question-item {
            margin-bottom: 25px; /* Space between questions */
            padding-bottom: 20px;
            border-bottom: 1px solid #e5e7eb; /* Separator */
        }
        .question-item:last-child {
            margin-bottom: 0; /* No margin on last */
            padding-bottom: 0;
            border-bottom: none; /* No border on last */
        }

        .question-text {
            font-weight: 600; /* Bolder question */
            font-size: 1.1rem;
            margin-bottom: 15px; /* Space below question text */
            color: #333;
        }

        .answer-option {
            display: flex;
            align-items: flex-start; /* Align radio/checkbox with top of text */
            margin-bottom: 10px;
            padding: 8px; /* Add padding for hover effect */
            border-radius: 6px;
            transition: background-color 0.2s;
        }
        .answer-option:hover {
             background-color: #f0f2f5; /* Highlight on hover */
        }

        .answer-option input {
            margin-right: 12px;
            margin-top: 4px; /* Adjust vertical alignment */
            flex-shrink: 0; /* Prevent shrinking */
        }

        .answer-option label {
            line-height: 1.5;
            color: #444;
            cursor: pointer; /* Make label clickable */
            flex-grow: 1;
        }

        .answer-correct {
            color: #059669; /* Green color */
            font-weight: 500;
            margin-top: 15px; /* Space above correct answer/explanation */
            padding: 10px;
            background-color: #e6fef7; /* Light green background */
            border-radius: 6px;
            font-size: 0.95rem;
            border-left: 3px solid #059669;
        }
         .answer-correct strong {
             color: #047857; /* Darker green for "Correct Answer:" */
         }
         .answer-correct em { /* Style explanation part */
             display: block;
             margin-top: 5px;
             color: #333;
             font-style: normal; /* Override browser italic */
         }

        .action-buttons {
            display: flex;
            flex-wrap: wrap; /* Allow buttons to wrap */
            gap: 15px;
            margin-top: 20px; /* Space above buttons */
        }

        .action-btn {
            padding: 10px 20px; /* Consistent button padding */
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px; /* Space between icon and text */
            border: 1px solid transparent; /* Base border */
            transition: background-color 0.3s, border-color 0.3s, color 0.3s, transform 0.1s;
        }
        .action-btn span { /* Icon styling */
            font-size: 1.1rem;
        }
         .action-btn:active {
            transform: scale(0.98);
         }

        .download-btn {
            background-color: #10b981;
            color: white;
            border-color: #059669;
        }
         .download-btn:hover {
             background-color: #059669;
             border-color: #047857;
         }

        .copy-btn, .regenerate-btn {
            background-color: #f3f4f6;
            color: #374151;
            border-color: #d1d5db;
        }
         .copy-btn:hover, .regenerate-btn:hover {
             background-color: #e5e7eb;
             border-color: #9ca3af;
             color: #1f2937;
         }

        /* Footer */
        footer {
            background: linear-gradient(135deg, #0a0057 0%, #2a3990 100%);
            color: white;
            padding: 3rem 5%; /* Use percentage for padding */
            display: grid; /* Use grid for footer layout */
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive columns */
            gap: 2rem;
            margin-top: 3rem; /* More space above footer */
        }

        .footer-section { /* Generic class for footer columns */
            /* No specific styles needed here unless common ones arise */
        }

        .footer-logo img {
            max-width: 100px; /* Increased size */
            margin-bottom: 1rem;
        }

        .footer-tagline {
            font-size: 0.9rem;
            line-height: 1.5;
            color: #ccc; /* Lighter color for tagline */
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.8rem; /* Increased gap */
        }
         .footer-links h3, .footer-socials h3 { /* Footer headings */
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: white;
            font-weight: 600;
        }

        .footer-links a {
            text-decoration: none;
            color: #ccc;
            font-size: 0.95rem;
            transition: color 0.3s, padding-left 0.3s;
        }

        .footer-links a:hover {
            color: white;
            padding-left: 5px; /* Slight indent on hover */
        }

        .footer-socials h3 {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: white;
            font-weight: 600;
        }

        .social-icons-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px; /* Increased gap */
        }

        .social-icon-item {
            display: inline-block;
            width: 35px; /* Slightly larger icons */
            height: 35px;
            transition: transform 0.2s ease, opacity 0.2s ease;
            opacity: 0.9; /* Slight transparency */
        }

        .social-icon-item:hover {
            transform: scale(1.15); /* More pronounced hover effect */
            opacity: 1;
        }

        .social-icon-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
            border-radius: 50%; /* Make icons circular */
        }

        /* Loading spinner styles */
        .loading-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px; /* More padding */
            min-height: 200px; /* Ensure minimum height */
            text-align: center;
        }

        .spinner {
            width: 45px; /* Larger spinner */
            height: 45px;
            border: 5px solid #e0e7ff; /* Lighter border */
            border-top: 5px solid #4361ee; /* Accent color */
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        .loading-text {
            color: #444; /* Darker loading text */
            font-size: 1.1rem;
            font-weight: 500;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

         /* Responsive Adjustments */
        @media (max-width: 992px) {
            .quiz-interface {
                flex-direction: column;
            }
            .sidebar {
                width: 100%; /* Full width on smaller screens */
                margin-bottom: 20px;
            }
            .quiz-container {
                 padding: 20px; /* Reduce padding */
            }
            footer {
                 padding: 2rem 5%;
                 grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Adjust footer columns */
            }
        }
         @media (max-width: 768px) {
            header {
                padding: 0.8rem 1rem; /* Reduce header padding */
                flex-direction: column; /* Stack header items */
                gap: 10px;
            }
            nav ul {
                flex-wrap: wrap; /* Allow nav items to wrap */
                justify-content: center;
                 gap: 5px 10px; /* Adjust gap */
            }
            nav ul li {
                 margin: 0 5px;
            }
             .right-actions {
                 margin-top: 10px; /* Space above actions */
             }
            .options-container {
                grid-template-columns: 1fr; /* Stack options */
            }
            .checkbox-group-container {
                 flex-direction: column; /* Stack checkbox sections */
                 gap: 20px;
            }
            footer {
                 padding: 2rem 5%;
                 text-align: center; /* Center footer text */
            }
            .footer-logo {
                 margin: 0 auto; /* Center logo */
            }
             .social-icons-list {
                 justify-content: center; /* Center social icons */
             }
         }

    </style>
</head>
<body>
    <header>
        <div class="logo">
            <!-- Make sure the path to your logo is correct -->
            <img src="images/Educonnect_logo.png" alt="EduConnect Logo">
        </div>
        <nav>
            <ul>
                <!-- Use placeholder links or actual paths -->
                <li><a href="home.html" class="nav-item animated-underline">Home</a></li>
                <li><a href="review.html" class="nav-item animated-underline">Review</a></li>
                <li><a href="ranking.html" class="nav-item animated-underline">Ranking</a></li>
                <li><a href="support.html" class="nav-item animated-underline">Support</a></li>
                <li><a href="educonnectGPT.html" class="nav-item animated-underline">EduconnectGPT</a></li>
                <li><a href="chat.html" class="nav-item animated-underline">Chat</a></li>
                <li><a href="schedule.html" class="nav-item animated-underline">Schedule</a></li>
                <li><a href="quiz.html" class="nav-item active">Quiz Generation</a></li>
            </ul>
        </nav>
        <div class="right-actions">
            <div class="credit-icon">0.0 $</div>
            <a href="notification.html" class="notification-icon" title="Notifications" style="text-decoration: none;">🔔</a>
            <div class="account-container" title="Account">
                <div class="account-icon">👤</div>
                <div class="account-dropdown">
                    <a href="profile.html" class="dropdown-item">Profile</a>
                    <a href="setting.html" class="dropdown-item">Setting</a>
                    <a href="pricing.html" class="dropdown-item">Pricing</a>
                    <div class="dropdown-divider"></div>
                    <a href="login.html" class="dropdown-item">Sign out</a>
                </div>
            </div>
        </div>
    </header>

    <main class="quiz-interface">
        <aside class="sidebar">
            <div class="ai-title">
                 <span>AI Tools</span>
            </div>

            <nav class="agent-list">
                 <div class="agent-item" id="main-agent">
                    <a href="educonnectGPT.html">
                        <div class="agent-icon">🔢</div>
                        <div class="agent-name">EduconnectGPT</div>
                    </a>
                </div>
                <div class="agent-item selected" id="quiz-agent">
                    <!-- This item is selected, no link needed as it's the current page -->
                     <div class="agent-icon">📝</div> <!-- Quiz icon -->
                    <div class="agent-name">Quiz Generation</div>
                </div>
                 <div class="agent-item" id="summarization-agent">
                    <a href="summarization.html">
                        <div class="agent-icon">📄</div> <!-- Summarization icon -->
                        <div class="agent-name">Lecture Summarization</div>
                    </a>
                 </div>
                 <div class="agent-item">
                    <a href="#"> <!-- Link to explore page -->
                        <div class="agent-icon">🔍</div>
                        <div class="agent-name">Explore Agents</div>
                    </a>
                 </div>
            </nav>

            <div class="section-title">Recent Quizzes</div>
            <div class="history-list">
                <!-- Add links later if needed -->
                <div class="agent-item">
                    <div class="agent-name">Python Programming Basics</div>
                </div>
                <div class="agent-item">
                    <div class="agent-name">Advanced Mathematics</div>
                </div>
                <div class="agent-item">
                    <div class="agent-name">Data Structures Quiz</div>
                </div>
                <div class="agent-item">
                    <div class="agent-name">English Vocabulary Test</div>
                </div>
            </div>

            <div class="section-title">Templates</div>
            <div class="history-list">
                 <div class="agent-item">
                    <div class="agent-name">Multiple Choice</div>
                </div>
                <div class="agent-item">
                    <div class="agent-name">True/False Quiz</div>
                </div>
                <div class="agent-item">
                    <div class="agent-name">Short Answer Format</div>
                </div>
            </div>
        </aside>

        <section class="quiz-container">
            <div class="quiz-header">
                <h1>Generate Custom Quiz</h1>
                <p>Enter your topic, select options, and optionally upload a PDF for context. Our AI will generate a custom quiz tailored to your needs.</p>
            </div>

            <form id="quiz-form">
                <div class="form-group">
                    <label for="quiz-topic">Quiz prompt</label>
                    <input type="text" id="quiz-topic" class="form-input" placeholder="e.g., World War II, Python Basics, Cell Biology" required>
                </div>

                <div class="form-group">
                    <label for="pdf-upload">Upload PDF Content</label>
                    <input type="file" id="pdf-upload" class="form-input" accept=".pdf" title="Upload a PDF file for context">
                    <span id="file-name-display" class="file-info hidden"></span>
                </div>

                <div class="form-group">
                    <label for="quiz-details">Additional Details or Instructions</label>
                    <textarea id="quiz-details" class="form-textarea" placeholder="e.g., Focus on chapters 3-5, include questions about specific formulas, define key terms..."></textarea>
                </div>

                <div class="options-container">
                    <div class="form-group">
                        <label for="difficulty">Difficulty Level</label>
                        <select id="difficulty" class="form-select">
                            <option value="beginner">Beginner</option>
                            <option value="intermediate" selected>Intermediate</option>
                            <option value="advanced">Advanced</option>
                            <option value="expert">Expert</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="num-questions">Number of Questions</label>
                        <select id="num-questions" class="form-select">
                            <option value="5">5 questions</option>
                            <option value="10" selected>10 questions</option>
                            <option value="15">15 questions</option>
                            <option value="20">20 questions</option>
                            <option value="25">25 questions</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="time-limit">Time Limit (minutes)</label>
                         <select id="time-limit" class="form-select">
                             <option value="0">No Time Limit</option> <!-- Added no limit option -->
                            <option value="5">5 minutes</option>
                            <option value="10">10 minutes</option>
                            <option value="15" selected>15 minutes</option>
                            <option value="20">20 minutes</option>
                            <option value="30">30 minutes</option>
                            <option value="45">45 minutes</option>
                            <option value="60">60 minutes</option>
                        </select>
                    </div>
                </div>

                <div class="checkbox-group-container">
                    <div class="checkbox-section">
                        <label>Question Types</label>
                         <div class="checkbox-group">
                            <input type="checkbox" id="multiple-choice" checked>
                            <label for="multiple-choice">Multiple Choice</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="true-false">
                            <label for="true-false">True/False</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="short-answer">
                            <label for="short-answer">Short Answer</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="matching">
                            <label for="matching">Matching</label>
                        </div>
                    </div>

                    <div class="checkbox-section">
                        <label>Options</label>
                         <div class="checkbox-group">
                            <input type="checkbox" id="include-explanations" checked>
                            <label for="include-explanations">Include Answer Explanations</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="randomize-questions">
                            <label for="randomize-questions">Randomize Question Order</label>
                        </div>
                    </div>
                 </div>

                <button type="button" id="generate-btn" class="generate-btn">
                    <span>✨</span> <!-- Sparkle icon -->
                    Generate Quiz
                </button>
            </form>

            <div class="preview-container" id="preview-section" style="display: none;">
                <h2>Generated Quiz Preview</h2>

                <div class="quiz-preview" id="quiz-preview">
                    <!-- Loading indicator or Quiz content will be inserted here -->
                </div>

                <div class="action-buttons">
                    <button class="action-btn download-btn" title="Download quiz as PDF">
                        <span>💾</span> Download Quiz
                    </button>
                    <button class="action-btn copy-btn" title="Copy quiz text to clipboard">
                        <span>📋</span> Copy to Clipboard
                    </button>
                    <button class="action-btn regenerate-btn" title="Generate a new quiz with the same settings">
                        <span>🔄</span> Regenerate
                    </button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-section footer-logo">
            <img src="images/Educonnect_logo.png" alt="EduConnect Logo">
            <div class="footer-tagline">
                Connecting knowledge,<br>
                stepping firmly into the future.
            </div>
        </div>
        <div class="footer-section footer-links">
             <h3>Quick Links</h3>
            <a href="#">Home</a>
            <a href="#">Courses</a>
            <a href="#">About Us</a>
            <a href="#">Contact</a>
            <a href="#">FAQ</a>
        </div>
         <div class="footer-section footer-links">
             <h3>Legal</h3>
             <a href="#">Privacy Policy</a>
            <a href="#">Terms and Condition</a>
            <a href="#">Refund Policy</a>
        </div>
        <div class="footer-section footer-socials">
            <h3>Follow Us</h3>
            <div class="social-icons-list">
                <!-- Replace # with actual social media links -->
                <a href="#" target="_blank" class="social-icon-item" title="YouTube">
                    <img src="images/Youtube.jpg" alt="YouTube">
                </a>
                <a href="#" target="_blank" class="social-icon-item" title="Facebook">
                    <img src="images/facebook.jpg" alt="Facebook">
                </a>
                <a href="#" target="_blank" class="social-icon-item" title="LinkedIn">
                    <img src="images/linkedln.jpg" alt="LinkedIn">
                </a>
                <a href="#" target="_blank" class="social-icon-item" title="TikTok">
                    <img src="images/tiktok.jpg" alt="TikTok">
                </a>
                <a href="#" target="_blank" class="social-icon-item" title="Instagram">
                    <img src="images/insta.jpg" alt="Instagram">
                </a>
                <a href="#" target="_blank" class="social-icon-item" title="Discord">
                    <img src="images/discord.jpg" alt="Discord">
                </a>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const generateBtn = document.getElementById('generate-btn');
            const previewSection = document.getElementById('preview-section');
            const quizPreview = document.getElementById('quiz-preview');
            const pdfInput = document.getElementById('pdf-upload');
            const fileNameDisplay = document.getElementById('file-name-display');
            const quizForm = document.getElementById('quiz-form'); // Reference to the form

            // --- Event Listener for File Input Change ---
            pdfInput.addEventListener('change', function() {
                if (pdfInput.files.length > 0) {
                    fileNameDisplay.textContent = `Selected file: ${pdfInput.files[0].name}`;
                    fileNameDisplay.classList.remove('hidden');
                } else {
                    fileNameDisplay.textContent = '';
                    fileNameDisplay.classList.add('hidden');
                }
            });

            // --- Event Listener for Generate Button Click ---
            generateBtn.addEventListener('click', function() {
                const topic = document.getElementById('quiz-topic').value.trim();
                const pdfFile = pdfInput.files[0]; // Get the selected file object

                if (!topic) {
                    alert('Please enter a quiz topic.');
                    document.getElementById('quiz-topic').focus(); // Focus the topic input
                    return;
                }

                // Show loading state
                let loadingText = 'Generating your quiz...';
                if (pdfFile) {
                    loadingText = `Generating quiz based on topic and PDF: ${pdfFile.name}... (Simulation)`;
                }

                quizPreview.innerHTML = `
                    <div class="loading-indicator">
                        <div class="spinner"></div>
                        <div class="loading-text">${loadingText}</div>
                    </div>
                `;

                previewSection.style.display = 'block';
                // Scroll smoothly to the preview section
                previewSection.scrollIntoView({ behavior: 'smooth', block: 'start' });

                // --- Simulate API call with timeout ---
                // Pass the file object (or null) to the generation function
                setTimeout(() => generateAndDisplayQuiz(pdfFile), 2000); // Reduced timeout for faster feedback
            });

            // --- Function to Generate and Display Quiz ---
            function generateAndDisplayQuiz(pdfFile = null) {
                const topic = document.getElementById('quiz-topic').value;
                const numQuestions = parseInt(document.getElementById('num-questions').value, 10); // Ensure number
                const difficulty = document.getElementById('difficulty').value;
                const details = document.getElementById('quiz-details').value; // Get additional details
                const includeExplanations = document.getElementById('include-explanations').checked;
                // Note: Randomize/TimeLimit/QuestionTypes would be handled by the AI in a real scenario

                // --- SIMULATION NOTE ---
                // In a real application, you would:
                // 1. If pdfFile exists: Upload it or use client-side parsing (pdf.js).
                // 2. Combine extracted text/info with 'topic', 'details', 'difficulty', 'numQuestions' etc.
                // 3. Send this structured request to the AI backend.
                // 4. Receive the generated quiz data (e.g., JSON).
                // 5. Parse the JSON and build the HTML using the received questions/answers.
                //
                // This simulation generates placeholder content based mainly on the topic.
                // --- END SIMULATION NOTE ---

                let quizHTML = '';
                let generationNote = '';

                // Create the note about the simulation and PDF usage
                 if (pdfFile) {
                     generationNote = `<p class="generation-note"><strong>Note:</strong> This quiz is simulated based on the topic '${topic}'. In a real system, content from '${pdfFile.name}' would be analyzed and used for generation along with your instructions.</p>`;
                } else {
                     generationNote = `<p class="generation-note"><strong>Note:</strong> This is a simulated quiz generated based on the topic '${topic}' and selected options.</p>`;
                }

                // Generate sample quiz content based on topic (simple matching)
                if (topic.toLowerCase().includes('python')) {
                    quizHTML = generatePythonQuiz(numQuestions, includeExplanations);
                } else if (topic.toLowerCase().includes('math') || topic.toLowerCase().includes('calculus')) {
                    quizHTML = generateMathQuiz(numQuestions, includeExplanations);
                } else if (topic.toLowerCase().includes('history') || topic.toLowerCase().includes('world war')) {
                    quizHTML = generateHistoryQuiz(numQuestions, includeExplanations);
                } else {
                    // Generate a generic quiz if topic doesn't match specifics
                    quizHTML = generateGenericQuiz(topic, numQuestions, difficulty, includeExplanations);
                }

                // Display the note and the generated quiz HTML
                quizPreview.innerHTML = generationNote + quizHTML;

                // --- Re-attach event listeners to action buttons (important after innerHTML change) ---
                attachActionListeners();
            }

            // --- Function to Attach Listeners to Action Buttons ---
            function attachActionListeners() {
                const downloadBtn = previewSection.querySelector('.download-btn');
                const copyBtn = previewSection.querySelector('.copy-btn');
                const regenerateBtn = previewSection.querySelector('.regenerate-btn');

                if(downloadBtn) {
                    downloadBtn.onclick = function() { // Use onclick for simplicity here
                         // TODO: Implement actual PDF generation (e.g., using jsPDF or server-side)
                        alert('Simulated Download: Quiz would be downloaded as PDF!');
                    };
                }

                if(copyBtn) {
                     copyBtn.onclick = function() {
                        const quizContentElement = document.getElementById('quiz-preview');
                        if(quizContentElement) {
                            // Basic text copy - might need refinement for structure
                            const textToCopy = quizContentElement.innerText || quizContentElement.textContent;
                            navigator.clipboard.writeText(textToCopy).then(() => {
                                alert('Quiz content (text only) copied to clipboard!');
                            }).catch(err => {
                                console.error('Failed to copy text: ', err);
                                alert('Failed to copy quiz content. Your browser might not support this feature or requires permissions.');
                            });
                        }
                    };
                }

                if(regenerateBtn) {
                    regenerateBtn.onclick = function() {
                        // Get current file status for regeneration message
                         const currentPdfFile = document.getElementById('pdf-upload').files[0];
                        let loadingText = 'Regenerating your quiz...';
                        if (currentPdfFile) {
                            loadingText = `Regenerating quiz based on topic and PDF: ${currentPdfFile.name}... (Simulation)`;
                        }

                        // Show loading state again
                        quizPreview.innerHTML = `
                            <div class="loading-indicator">
                                <div class="spinner"></div>
                                <div class="loading-text">${loadingText}</div>
                            </div>
                        `;
                        // Simulate regeneration
                        setTimeout(() => generateAndDisplayQuiz(currentPdfFile), 1500); // Faster regeneration simulation
                    };
                }
            }


            // --- Helper Functions for Generating Sample Quiz Content ---

            // Builds HTML for a structured quiz from a questions array
            function buildQuizHtml(questions, title, includeExplanations) {
                 let html = `<h3 style="margin-bottom: 20px; font-size: 1.3rem;">${title}</h3>`; // Quiz title

                 questions.forEach((q, index) => {
                    const questionId = `q${index + 1}`; // Unique ID prefix for the question
                    html += `<div class="question-item">`;
                    html += `<p class="question-text">${index + 1}. ${q.question}</p>`; // Question number and text

                    // Add options (assuming multiple choice for simplicity here)
                    q.options.forEach((option, optIndex) => {
                        const optionId = `${questionId}_opt${optIndex}`; // Unique ID for each option
                        html += `
                            <div class="answer-option">
                                <input type="radio" name="${questionId}" id="${optionId}" value="${option}">
                                <label for="${optionId}">${option}</label>
                            </div>`;
                    });

                    // Add explanation if requested and available
                    if (includeExplanations && q.correct) { // Check if correct answer exists
                         html += `<div class="answer-correct">
                                     <strong>Correct Answer:</strong> ${q.correct}
                                     ${q.explanation ? `<em>${q.explanation}</em>` : ''}
                                  </div>`;
                    }
                    html += `</div>`; // Close question-item
                 });
                 return html;
            }

             // Sample Data and Generation Logic (Keep these or replace with better simulation)
             function generatePythonQuiz(numQuestions, includeExplanations) {
                 const allQuestions = [
                    { question: "What is the output of `print(type([]))`?", options: ["<class 'list'>", "<class 'tuple'>", "<class 'dict'>", "<class 'set'>"], correct: "<class 'list'>", explanation: "`[]` creates an empty list object." },
                    { question: "Which keyword is used to define a function in Python?", options: ["fun", "define", "def", "function"], correct: "def", explanation: "The `def` keyword starts a function definition." },
                    { question: "What does the `append()` method do to a list?", options: ["Adds an element at the beginning", "Adds an element at the end", "Removes the last element", "Sorts the list"], correct: "Adds an element at the end", explanation: "`append(item)` adds `item` to the end of the list." },
                    { question: "How do you write a single-line comment in Python?", options: ["// comment", "/* comment */", "# comment", "-- comment"], correct: "# comment", explanation: "The `#` symbol indicates a comment for the rest of the line." },
                    { question: "Which operator is used for exponentiation?", options: ["^", "**", "%", "//"], correct: "**", explanation: "`**` raises the left operand to the power of the right (e.g., `2**3` is 8)." },
                    { question: "What is the result of `'Hello' + ' ' + 'World'`?", options: ["HelloWorld", "Hello World", "Error", "Hello + World"], correct: "Hello World", explanation: "The `+` operator concatenates strings." },
                    { question: "Which collection type is ordered, mutable, and allows duplicate elements?", options: ["Tuple", "Set", "Dictionary", "List"], correct: "List", explanation: "Lists have all these properties." },
                    { question: "What function returns the number of items in a list or string?", options: ["count()", "size()", "length()", "len()"], correct: "len()", explanation: "`len(sequence)` returns its length." },
                    { question: "How do you check if a key exists in a dictionary `my_dict`?", options: ["key in my_dict", "my_dict.contains(key)", "exists(my_dict, key)", "my_dict.has(key)"], correct: "key in my_dict", explanation: "The `in` operator checks for key membership." },
                    { question: "What boolean operator means 'logical AND'?", options: ["or", "not", "and", "&"], correct: "and", explanation: "`and` returns True only if both operands are True." }
                 ];
                 // Select the requested number of questions (simple slice)
                 const selectedQuestions = allQuestions.slice(0, Math.min(numQuestions, allQuestions.length));
                 return buildQuizHtml(selectedQuestions, "Python Basics Quiz", includeExplanations);
             }

             function generateMathQuiz(numQuestions, includeExplanations) {
                 const allQuestions = [
                    { question: "What is the derivative of `3x^2 + 5x - 2`?", options: ["6x + 5", "3x + 5", "6x^2 + 5", "x^3 + (5/2)x^2 - 2x"], correct: "6x + 5", explanation: "Apply the power rule: d/dx(ax^n) = anx^(n-1)." },
                    { question: "Calculate the integral of `2x` dx.", options: ["x^2 + C", "2 + C", "2x^2 + C", "x + C"], correct: "x^2 + C", explanation: "The antiderivative of 2x is x^2. Don't forget the constant of integration C." },
                    { question: "What is the value of sin(0)?", options: ["1", "0", "-1", "undefined"], correct: "0", explanation: "On the unit circle, the y-coordinate at 0 radians is 0." },
                    { question: "What is `log₁₀(100)`?", options: ["1", "2", "10", "100"], correct: "2", explanation: "Log base 10 asks '10 to what power equals 100?'. 10² = 100." },
                    { question: "Solve for x: `4x - 7 = 5`", options: ["x = 1", "x = 2", "x = 3", "x = 12"], correct: "x = 3", explanation: "4x = 5 + 7 => 4x = 12 => x = 12 / 4 = 3." },
                    { question: "What is the area of a triangle with base 10 and height 5?", options: ["15", "25", "50", "100"], correct: "25", explanation: "Area = (1/2) * base * height = (1/2) * 10 * 5 = 25." },
                    { question: "What is `i^2` where `i` is the imaginary unit?", options: ["1", "-1", "i", "-i"], correct: "-1", explanation: "By definition, the imaginary unit `i` is the square root of -1." },
                    { question: "What is the slope of the line `y = -2x + 3`?", options: ["3", "2", "-2", "1/3"], correct: "-2", explanation: "In the slope-intercept form y = mx + b, 'm' is the slope." },
                    { question: "Simplify `(x^5) / (x^2)`", options: ["x^7", "x^2.5", "x^3", "x^10"], correct: "x^3", explanation: "When dividing powers with the same base, subtract the exponents: 5 - 2 = 3." },
                    { question: "What is 6 factorial (6!)?", options: ["36", "120", "720", "600"], correct: "720", explanation: "6! = 6 * 5 * 4 * 3 * 2 * 1 = 720." }
                 ];
                 const selectedQuestions = allQuestions.slice(0, Math.min(numQuestions, allQuestions.length));
                 return buildQuizHtml(selectedQuestions, "General Mathematics Quiz", includeExplanations);
             }

            function generateHistoryQuiz(numQuestions, includeExplanations) {
                 const allQuestions = [
                    { question: "In what year did the Battle of Hastings occur?", options: ["1066", "1492", "1776", "800"], correct: "1066", explanation: "William the Conqueror defeated King Harold Godwinson, leading to the Norman conquest of England." },
                    { question: "Who was the first President of the United States?", options: ["Thomas Jefferson", "Benjamin Franklin", "George Washington", "John Adams"], correct: "George Washington", explanation: "He served from 1789 to 1797." },
                    { question: "The Magna Carta was signed by which English King?", options: ["Henry VIII", "Richard the Lionheart", "John", "Edward I"], correct: "John", explanation: "Signed in 1215, it limited the king's power and established certain legal rights." },
                    { question: "Which empire was ruled by Julius Caesar before its transition to an Empire?", options: ["Greek Empire", "Persian Empire", "Roman Republic", "Egyptian Empire"], correct: "Roman Republic", explanation: "Caesar played a critical role in the events that led to the demise of the Roman Republic and the rise of the Roman Empire." },
                    { question: "The Renaissance period originated primarily in which country?", options: ["France", "England", "Italy", "Spain"], correct: "Italy", explanation: "Flourishing in cities like Florence from the 14th to the 16th century." },
                    { question: "What event is commonly considered the start of World War I?", options: ["Invasion of Poland", "Assassination of Archduke Franz Ferdinand", "Attack on Pearl Harbor", "Sinking of the Lusitania"], correct: "Assassination of Archduke Franz Ferdinand", explanation: "His assassination in Sarajevo in June 1914 triggered a series of alliances." },
                    { question: "Who led the Bolshevik Revolution in Russia?", options: ["Joseph Stalin", "Leon Trotsky", "Vladimir Lenin", "Mikhail Gorbachev"], correct: "Vladimir Lenin", explanation: "He led the Bolsheviks to overthrow the provisional government in October 1917." },
                    { question: "The 'Age of Exploration' was significantly driven by the search for sea routes to where?", options: ["The Americas", "Africa", "Asia (specifically India and the East Indies)", "Australia"], correct: "Asia (specifically India and the East Indies)", explanation: "European powers sought new routes to the spice trade." },
                    { question: "Which ancient civilization built the pyramids at Giza?", options: ["Mesopotamians", "Greeks", "Romans", "Egyptians"], correct: "Egyptians", explanation: "These tombs were built for pharaohs during the Old Kingdom period." },
                    { question: "The Cold War was primarily a geopolitical struggle between which two superpowers?", options: ["UK and France", "USA and Soviet Union", "China and Japan", "Germany and Russia"], correct: "USA and Soviet Union", explanation: "Lasting from the end of WWII until the early 1990s." }
                 ];
                 const selectedQuestions = allQuestions.slice(0, Math.min(numQuestions, allQuestions.length));
                return buildQuizHtml(selectedQuestions, "World History Quiz", includeExplanations);
             }

             // Fallback for unmatched topics
             function generateGenericQuiz(topic, numQuestions, difficulty, includeExplanations) {
                 let questions = [];
                 for (let i = 1; i <= numQuestions; i++) {
                     questions.push({
                         question: `This is sample question ${i} about '${topic}' at a ${difficulty} level. What is the correct choice?`,
                         options: [`Option A for Q${i}`, `Option B (Simulated Correct)`, `Option C for Q${i}`, `Option D for Q${i}`],
                         correct: `Option B (Simulated Correct)`,
                         explanation: `This is a placeholder explanation for why Option B is the correct answer to question ${i} regarding ${topic}.`
                     });
                 }
                 return buildQuizHtml(questions, `Generic Quiz: ${topic}`, includeExplanations);
             }

        }); // End DOMContentLoaded
    </script>

</body>
</html>